<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style/style.css">
    <title>Challenge Javascript 13 - Exercices 1 et 2</title>
</head>

<body>
    <h1>Challenge Javascript 13 - Exercices 1 et 2</h1>
    <h2>Visible dans la console</h2>

    <h3>Exercice 1</h3>
    <p>On suppose que l'on récupère les données d’un service web à propos
        d’un certain jeu (variable ‘game’ dans le code en dessous).
        Dans les exercices, on utilise ces données.</p>
    <ol>
        <li>
            Créer un tableau de joueurs pour chaque équipe (variables ‘players1’ et ‘players2’)
        </li>
        <li>Le premier joueur dans un tableau de joueurs est le gardien et les autres sont des joueurs de terrain. Pour
            l’équipe 1 (le Bayern de Munich), créer une variable ‘gk’ avec le nom du gardien et un tableau
            ‘fieldPlayers’ avec le reste des joueurs de l’équipe.
        </li>
        <li>
            Créer un tableau ‘allPlayers’ qui contient les joueurs de chaque équipe (22 joueurs).
        </li>
        <li>
            Pendant le match, le Bayern utilise 3 joueurs remplaçants. Créer un autre tableau ‘players1Final’ contenant
            tous les joueurs de l’équipe originelle ainsi que ‘Thiago’ ‘Coutinho’ et ‘Perisic’.
        </li>
        <li>
            Basé sur l’objet game.odds, créer une variable pour chaque probabilité (appelés ‘team1’, ‘draw’ et ‘team2’).
        </li>
        <li>
            Écrire une fonction ‘printGoals’ qui prends un nom de joueur en paramètre et qui affiche son nombre de buts
            marqués.
        </li>
        <li>
            L’équipe avec la probabilité la plus basse est celle la plus susceptible de gagner. Écrire dans la console
            quelle équipe a le plus de chance de gagner.
        </li>
    </ol>


    <h3>Exercice 2</h3>
    <ol>
        <li>Faire une boucle sur le tableau game.scored et afficher dans la console
            chaque nom de butteur ainsi que le numéro du but :
            (Exemple : “But 1 : Lewanoski”).</li>
        <li>
            Faire une boucle qui calcule la moyenne des probabilités et l’écrire dans la console.
        </li>

        <li>
            Afficher les 2 probabilités dans la console, mais dans un joli format comme ceci :
            Probabilité de victoire pour Bayern Munich : 1,33
            Probabilité d’égalité : 3,25
            Probabilité de victoire de Borussia Dortmund : 6,5
            Bien récupérer les noms des équipes depuis l’objet ‘game’, ne pas les “hardcoder”.
        </li>
        <li>Créer un objet appelé ‘scorers’ qui contient le nom des joueurs qui ont marqué en propriété et le nombre de
            buts qu’ils ont marqué en value.</li>
    </ol>

    <script>
        //DONNEES DE L'EXERCICE
        const game = {
            team1: 'Bayern Munich',
            team2: 'Borrussia Dortmund',
            players: [
                [
                    'Neuer',
                    'Pavard',
                    'Martinez',
                    'Alaba',
                    'Davies',
                    'Kimmich',
                    'Goretzka',
                    'Coman',
                    'Muller',
                    'Gnarby',
                    'Lewandowski',
                ],
                [
                    'Burki',
                    'Schulz',
                    'Hummels',
                    'Akanji',
                    'Hakimi',
                    'Weigl',
                    'Witsel',
                    'Hazard',
                    'Brandt',
                    'Sancho',
                    'Gotze',
                ],
            ],
            score: '4:0',
            scored: ['Lewandowski', 'Gnarby', 'Lewandowski', 'Hummels'],
            date: 'Nov 9th, 2037',
            odds: {
                team1: 1.33,
                x: 3.25,
                team2: 6.5,
            },
        };
        //EXERCICE 1 * 1_Créer un tableau de joueurs pour chaque équipe
        //(variables ‘players1’ et ‘players2’)
        const players1 = ['Neuer', 'Pavard', 'Martinez', 'Alaba', 'Davies', 'Kimmich', 'Goretzka', 'Coman', 'Muller', 'Gnarby', 'Lewandowski'];
        const players2 = ['Burki', 'Schulz', 'Hummels', 'Akanji', 'Hakimi', 'Weigl', 'Witsel', 'Hazard', 'Brandt', 'Sancho', 'Gotze'];

        //EXERCICE 1 * 2_Le premier joueur dans un tableau de joueurs est le gardien 
        //et les autres sont des joueurs de terrain.
        // Pour l’équipe 1 (le Bayern de Munich), créer une variable ‘gk’ avec le nom du gardien
        // et un tableau ‘fieldPlayers’ avec le reste des joueurs de l’équipe.
        const gk = 'Neuer';
        const fieldPlayers = ['Pavard', 'Martinez', 'Alaba', 'Davies', 'Kimmich', 'Goretzka', 'Coman', 'Muller', 'Gnarby', 'Lewandowski'];


        //EXERCICE 1 * 3_Créer un tableau ‘allPlayers’ qui contient les joueurs de chaque équipe (22 joueurs).
        const allPlayers = [...players1, ...players2];
        console.log("EXERCICE 1 * AFFICHER LES 22 JOUEURS DES DEUX EQUIPES");
        console.log(allPlayers);


        //EXERCICE 1 * 4_Pendant le match, le Bayern utilise 3 joueurs remplaçants. 
        //Créer un autre tableau ‘players1Final’ contenant tous les joueurs de l’équipe originelle
        // ainsi que ‘Thiago’ ‘Coutinho’ et ‘Perisic’.
        const players1Final = [...players1, 'Thiago', 'Coutinho', 'Perisic'];
        console.log("EXERCICE 1 * AFFICHER EQUIPE MUNICH + 3 REMPLACANTS");
        console.log(players1Final)


        //EXERCICE 1 * 5_Basé sur l’objet game.odds, créer une variable pour chaque probabilité
        // (appelés ‘team1’, ‘draw’ et ‘team2’).
        console.log("EXERCICE 1 * CREER DES VARIABLES DES PROBABILITES (game.odds) / AFFICHER");
        //initiliaser les variables demandées
        const team1 = game.odds.team1;
        const draw = game.odds.x;
        const team2 = game.odds.team2;
        //afficher les variables dans la console
        console.log(`Les probabilités sont les suivantes : Team1 probablité _ ${team1},  Draw probablité _ ${draw}, Team2 probablité _ ${team2}`);


        //EXERCICE 1 * 6_Écrire une fonction ‘printGoals’ qui prends un nom de joueur en paramètre
        // et qui affiche son nombre de buts marqués.
        console.log("EXERCICE 1 * AFFICHER LE JOUEUR PASSE EN PARAMETRE + SON NOMBRE DE BUTS ");
        //function prenant en paramètre le nom du joueur
        function printGoals(playerName) {
            //initialiser le compteur de buts à 0
            //cette variable sert à compter comboien de fois le joueur indiqué
            //via le le paramètre apparaît dans la liste game.scored
            let count = 0;
            //la boucle parcourt le tableau scored
            //et compte le nombre de fois où un joueur est présent
            //pour incrémenter le compteur
            for (let i = 0; i < game.scored.length; i++) {
                //vérifier si l'élément actuel du tablea game.scored à l'index i
                //correspond au nom du joueur playerName passé en paramètre
                //si oui, cela signifie qu'il a marqué un but
                if (game.scored[i] === playerName) {
                    //et puisqu'il a marqué un but, on incrémente le compteur
                    count++;
                }
            }
            message = (`Le joueur ${playerName} a marqué ${count} but(s)`);
            return message;
        }

        //appel de la fonction pour chacun des joueurs du tableau
        console.log(printGoals('Lewandowski'));
        console.log(printGoals('Gnarby'));
        console.log(printGoals('Hummels'));


        //EXERCICE 1 * 7_L’équipe avec la probabilité la plus basse est celle la plus susceptible de gagner. 
        //Écrire dans la console quelle équipe a le plus de chance de gagner
        console.log("EXERCICE 1 * AFFICHER EQUIPE AYANT LE PLUS DE CHANCE DE GAGNER");
        function winChancesTeam() {
            //utiliser la fonction Math.min pour trouver la valeur la plus basse
            //et la sauvegarder dans la variable minValue
            let minValue = Math.min(game.odds.team1, game.odds.team2, game.odds.x);
            //comparer la variable minValue obtenue grâce à Math.min avec les valeurs du tableau game.odds
            if (minValue === game.odds.team1) {
                //afficher le message correspondant 
                message = (`${game.team1} a le plus de chance de gagner avec une probabilité de ${minValue}.`);
            } else if (minValue === odds.team2) {
                message = (`${game.team2} a le plus de chance de gagner avec une probabilité de ${minValue}.`);
            } else {
                message = ("Il y a une égalité avec une probabilité de match nul de " + minValue);
            }
            return message;
        }
        console.log(winChancesTeam());

        //EXERCICE 2 * 1_Faire une boucle sur le tableau game.scored et 
        //afficher dans la console chaque nom de butteur ainsi que le numéro du but :
        // (Exemple : “But 1 : Lewanoski”).
        console.log("EXERCICE 2 * AFFICHER CHAQUE NOM DE Buteur ET LE NUMERO DU BUT");
        for (let i = 0; i < game.scored.length; i++) {
            console.log(`Le but N° ${i + 1}  a été marqué par ${game.scored[i]} `);
        }

        //EXERCICE 2 * 2_Faire une boucle qui calcule la moyenne des probabilités
        // et l’écrire dans la console.
        console.log("EXERCICE 2 * AFFICHER MOYENNE DES PROBABILITES");
        //initialiser la somme à 0
        let sum = 0;
        //game.odds est un objet 
        //Object.values retourne un tableau contenant uniquement les valeurs
        //j'ai besoin du nombre d'éléments pour calculer la moyenne
        //on transforme game.odds en tableau pour accéder à la propriété tableau.length
        //sauvegarder le tableau dans une variable
        //grâce à Object.values(game.odds) 
        //on extrait les VALEURS de chaque clé dans l'objet
        const gameOddsArray = Object.values(game.odds);

        //on parcourt le tableau avec une boucle for... of
        for (const value of gameOddsArray) {
            //à chaque tour on ajoute la valeur à sum
            sum += value;
        }
        //gameOddsArray étant un tableau on peut utiliser la
        //propriété length et obtenir la moyenne
        let average = sum / gameOddsArray.length;
        console.log('Moyenne de probabilités : ' + average.toFixed(2));

        //EXERCICE 2 * 3_Afficher les 2 probabilités dans la console, mais dans un joli format comme ceci :
        //Probabilité de victoire pour Bayern Munich : 1,33
        //Probabilité d’égalité : 3,25
        //Probabilité de victoire de Borussia Dortmund : 6,5
        //Bien récupérer les noms des équipes depuis l’objet ‘game’, ne pas les “hardcoder”.
        console.log("EXERCICE 2 * AFFICHER NOMS EQUIPES ET PROBABILITES");
        //Object.entries(game.odds) convertit l'objet game.odds
        //en un tableau d'entrée contenant [["team1", 1.33],["x", 3.25],["team2", 6.5]]
        //la boucle for parcourt chaque paire [clé, valeur]
        for (const [key, value] of Object.entries(game.odds)) {
            //on vérifie la clé team1, x ou team2 
            //pour lui associer le message demandé
            if (key === "team1") {
                //avec game.team1 on accède à la propriété team1
                //de l'objet game
                //donc au nom de l'équipe : Bayern Munich
                console.log(`Probabilité de victoire pour ${game.team1} : ${value.toFixed(2)}`);
            } else if (key === "x") {
                console.log(`Probabilité d’égalité : ${value.toFixed(2)}`);
            } else if (key === "team2") {
                console.log(`Probabilité de victoire pour ${game.team2} : ${value.toFixed(2)}`);
            }
        }

        //EXERCICE 2 * 4_ Créer un objet appelé ‘scorers’ qui contient
        // le nom des joueurs qui ont marqué en propriété et
        // le nombre de buts qu’ils ont marqué en value. Exemple :
        //{  Gnarby: 1,   Hummels: 1,   Lewandowski: 2 }
        console.log("EXERCICE 2 * CREER UN OBJET SCORERS - AFFICHER L'OBJET");
        const scorers = {
            Gnarby: 1,
            Hummels: 1,
            Lewandowski: 2
        };
        console.log(scorers);

    </script>




</body>

</html>