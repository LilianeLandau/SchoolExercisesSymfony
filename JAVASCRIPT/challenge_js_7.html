<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style/style.css">
    <title>Challenge Javascript 7</title>
</head>

<body>
    <h1>Challenge Javascript 7</h1>
    <h2>Visible dans la console</h2>


    <script>

        //PARTIE 1
        //Écrire une fonction ‘calcTip’ qui prend la valeur de la note en paramètre
        // et retourne le pourboire correspondant. 
        //Tester la fonction avec une note de 100 euros.

        function calcTip(note) {
            //initialiser variable pourcentage
            let pourcentage;

            if (note >= 50 && note <= 300) {
                pourcentage = 0.15;
            }
            else {
                pourcentage = 0.20;
            }
            let tip = note * pourcentage;
            let total = note + tip;

            // Retourner un objet contenant les données pour l'affichage
            //un objet est renvoyé par la fonction avec le mot-clé return et {}
            //chaque propriété de l'objet est une paire clé-valeur
            //la clé est l'identifiant (note, pourcentage, etc...)
            //la valeur est est le résultat correspondant
            //de cette façon on peut accéder aux informations par leur nom
            return {
                note: note,
                pourcentage: pourcentage,
                tip: tip,
                total: total
            };

        }

        // Appeler la fonction
        const result = calcTip(100);

        // Afficher le résultat
        //limiter à 2 décimales
        console.log(`Addition de ${result.note}€, pourboire de ${result.tip.toFixed(2)}€ (${(result.pourcentage * 100)}%), soit un total de ${result.total.toFixed(2)}€.`);

        //tester la fonction sur un tableau contenant des montant de notes
        const notes = [100, 200, 300, 400, 500];
        for (const note of notes) {
            const result = calcTip(note); console.log(`Addition de ${result.note}€, pourboire de ${result.tip.toFixed(2)}€ (${(result.pourcentage * 100)}%), soit un total de ${result.total.toFixed(2)}€.`);

        }

        //PARTIE 2
        //Créer un tableau ‘bills’ contenant les données de test suivantes 125, 555 et 44
        //Créer un tableau ‘tips’ contenant la valeur du pourboire de chaque note. Calculé grâce à la fonction ‘calcTip’ que vous avez créé avant.
        //Créer un tableau ‘totals’ contenant les valeurs des totaux (note + pourboire).


        // Définir le tableau 'bills' avec les montants des notes
        let bills = [125, 555, 44];

        // Initialiser des tableaux vides pour les pourboires ('tips') et totaux ('totals')
        let tips = [];
        let totals = [];

        // Parcourir chaque montant de 'bills' 
        //avec une boucle 'for'
        for (let i = 0; i < bills.length; i++) {
            // Calculer le pourboire en appelant 'calcTip' pour chaque note
            //result change à chaque itération de la boucle for
            //à chaque itération le pourboire correspondant
            //à la note est calculé et stocké dans la variable result
            //la variable result est un objet renvoyé par la fonction
            //et contenant la note, le tip, le pourcentage et le total
            let result = calcTip(bills[i]);

            // Ajouter le pourboire "tip" (variable au singulier) 
            //dans le tableau 'tips'
            //à chaque itération de la boucle for 
            //le pourboire correspondant à la note, calculé
            //par la fonctin calcTip() est ajouté dans le tableau 'tips'
            tips.push(result.tip);

            // Ajouter le "total" (variable au singulier)  (note + pourboire) 
            //dans le tableau 'totals'
            totals.push(result.total);
        }

        // Afficher les résultats 
        //sous forme de 3 tableaux
        console.log("Montants : ", bills);
        console.log("Pourboires : ", tips);
        console.log("Totaux : ", totals);





    </script>


</body>

</html>